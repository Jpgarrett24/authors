{"ast":null,"code":"var _jsxFileName = \"/Users/josephgarrett/Desktop/coding_dojo/MERN/full_stack/authors/authors-SPA/src/components/Form.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { navigate } from \"@reach/router\";\nimport axios from \"axios\";\n\nconst Form = props => {\n  const {\n    action,\n    authorID\n  } = props;\n  const [input, setInput] = useState(\"\");\n  const [erros, setErros] = useState(null);\n  useEffect(() => {\n    axios.get(`http://localhost:8000/api/authors/${authorID}`).then(res => {\n      if (res.data.name !== undefined) {\n        setInput(res.data.name);\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  }, [authorID]);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const newAuthor = {\n      name: input\n    };\n\n    if (action === \"create\") {\n      axios.post('http://localhost:8000/api/authors', newAuthor).then(res => {\n        navigate('/');\n      }).catch(err => {\n        console.log(err.response.data.errors);\n      });\n      setInput(\"\");\n    }\n\n    if (action === \"update\") {\n      axios.put(`http://localhost:8000/api/authors/${authorID}`, newAuthor).then(res => {\n        navigate('/');\n      }).catch(err => {\n        console.log(err);\n      });\n      setInput('');\n    }\n\n    ;\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  }, \"Name:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    id: \"name\",\n    value: input,\n    onChange: event => setInput(event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: event => navigate('/'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  }, \"Cancel\"), /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }\n  }, \"Submit\")));\n};\n\nexport default Form;","map":{"version":3,"sources":["/Users/josephgarrett/Desktop/coding_dojo/MERN/full_stack/authors/authors-SPA/src/components/Form.js"],"names":["React","useState","useEffect","navigate","axios","Form","props","action","authorID","input","setInput","erros","setErros","get","then","res","data","name","undefined","catch","err","console","log","handleSubmit","event","preventDefault","newAuthor","post","response","errors","put","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,QAAT,QAAyB,eAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,IAAI,GAAIC,KAAD,IAAW;AACpB,QAAM;AAAEC,IAAAA,MAAF;AAAUC,IAAAA;AAAV,MAAuBF,KAA7B;AACA,QAAM,CAACG,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACU,KAAD,EAAQC,QAAR,IAAoBX,QAAQ,CAAC,IAAD,CAAlC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZE,IAAAA,KAAK,CAACS,GAAN,CAAW,qCAAoCL,QAAS,EAAxD,EACKM,IADL,CACWC,GAAD,IAAS;AACX,UAAIA,GAAG,CAACC,IAAJ,CAASC,IAAT,KAAkBC,SAAtB,EAAiC;AAC7BR,QAAAA,QAAQ,CAACK,GAAG,CAACC,IAAJ,CAASC,IAAV,CAAR;AACH;AACJ,KALL,EAMKE,KANL,CAMYC,GAAD,IAAS;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,KARL;AASH,GAVQ,EAUN,CAACZ,QAAD,CAVM,CAAT;;AAYA,QAAMe,YAAY,GAAIC,KAAD,IAAW;AAC5BA,IAAAA,KAAK,CAACC,cAAN;AAEA,UAAMC,SAAS,GAAG;AACdT,MAAAA,IAAI,EAAER;AADQ,KAAlB;;AAIA,QAAIF,MAAM,KAAK,QAAf,EAAyB;AACrBH,MAAAA,KAAK,CAACuB,IAAN,CAAW,mCAAX,EAAgDD,SAAhD,EACKZ,IADL,CACWC,GAAD,IAAS;AACXZ,QAAAA,QAAQ,CAAC,GAAD,CAAR;AACH,OAHL,EAIKgB,KAJL,CAIYC,GAAD,IAAS;AAAEC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACQ,QAAJ,CAAaZ,IAAb,CAAkBa,MAA9B;AAAuC,OAJ7D;AAMAnB,MAAAA,QAAQ,CAAC,EAAD,CAAR;AACH;;AAED,QAAIH,MAAM,KAAK,QAAf,EAAyB;AACrBH,MAAAA,KAAK,CAAC0B,GAAN,CAAW,qCAAoCtB,QAAS,EAAxD,EAA2DkB,SAA3D,EACKZ,IADL,CACWC,GAAD,IAAS;AAAEZ,QAAAA,QAAQ,CAAC,GAAD,CAAR;AAAe,OADpC,EAEKgB,KAFL,CAEYC,GAAD,IAAS;AAAEC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AAAmB,OAFzC;AAIAV,MAAAA,QAAQ,CAAC,EAAD,CAAR;AACH;;AAAA;AACJ,GAxBD;;AA0BA,sBACI,uDACI;AAAM,IAAA,QAAQ,EAAEa,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,OAAO,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADJ,eAEI;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,IAAI,EAAC,MAAxB;AAA+B,IAAA,EAAE,EAAC,MAAlC;AAAyC,IAAA,KAAK,EAAEd,KAAhD;AAAuD,IAAA,QAAQ,EAAGe,KAAD,IAAWd,QAAQ,CAACc,KAAK,CAACO,MAAN,CAAaC,KAAd,CAApF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,eAGI;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,OAAO,EAAGR,KAAD,IAAWrB,QAAQ,CAAC,GAAD,CAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJJ,CADJ,CADJ;AAUH,CArDD;;AAuDA,eAAeE,IAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { navigate } from \"@reach/router\";\nimport axios from \"axios\";\n\nconst Form = (props) => {\n    const { action, authorID } = props;\n    const [input, setInput] = useState(\"\");\n    const [erros, setErros] = useState(null);\n\n    useEffect(() => {\n        axios.get(`http://localhost:8000/api/authors/${authorID}`)\n            .then((res) => {\n                if (res.data.name !== undefined) {\n                    setInput(res.data.name)\n                }\n            })\n            .catch((err) => {\n                console.log(err);\n            })\n    }, [authorID])\n\n    const handleSubmit = (event) => {\n        event.preventDefault();\n\n        const newAuthor = {\n            name: input,\n        };\n\n        if (action === \"create\") {\n            axios.post('http://localhost:8000/api/authors', newAuthor)\n                .then((res) => {\n                    navigate('/');\n                })\n                .catch((err) => { console.log(err.response.data.errors) });\n\n            setInput(\"\");\n        }\n\n        if (action === \"update\") {\n            axios.put(`http://localhost:8000/api/authors/${authorID}`, newAuthor)\n                .then((res) => { navigate('/') })\n                .catch((err) => { console.log(err); });\n\n            setInput('')\n        };\n    }\n\n    return (\n        <>\n            <form onSubmit={handleSubmit}>\n                <label htmlFor=\"name\">Name:</label>\n                <input type=\"text\" name=\"name\" id=\"name\" value={input} onChange={(event) => setInput(event.target.value)} />\n                <button type=\"button\" onClick={(event) => navigate('/')}>Cancel</button>\n                <button>Submit</button>\n            </form>\n        </>\n    )\n};\n\nexport default Form;"]},"metadata":{},"sourceType":"module"}